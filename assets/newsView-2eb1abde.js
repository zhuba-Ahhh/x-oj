import{b as Z,d as N,u as ce,c as h,i as z,o as m,a as y,r as j,e as I,w as T,f as G,g as c,n as w,h as a,t as k,v as J,T as K,_ as Q,j as ue,k as de,l as F,m as pe,p as W,s as me,q as fe,x,y as H,z as ge,A as ve,B as ye,C as _e,D as $,E as he,F as C,G as R,H as we,I as X,J as Ce,K as be,L as $e,M as Te,N as U,O as Y,P as E,Q as P,R as ke,S as Ne,U as Se,V as q,W as xe,X as Ie,Y as Be,Z as Me,$ as ze,a0 as Ee,a1 as De,a2 as Le}from"./index-028e0930.js";const A={},Oe=Z({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Ve=["textContent"],Fe=N({name:"ElBadge"}),He=N({...Fe,props:Oe,setup(n,{expose:s}){const e=n,o=ce("badge"),t=h(()=>e.isDot?"":z(e.value)&&z(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return s({content:t}),(i,u)=>(m(),y("div",{class:w(a(o).b())},[j(i.$slots,"default"),I(K,{name:`${a(o).namespace.value}-zoom-in-center`,persisted:""},{default:T(()=>[G(c("sup",{class:w([a(o).e("content"),a(o).em("content",i.type),a(o).is("fixed",!!i.$slots.default),a(o).is("dot",i.isDot)]),textContent:k(a(t))},null,10,Ve),[[J,!i.hidden&&(a(t)||i.isDot)]])]),_:1},8,["name"])],2))}});var Re=Q(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ue=ue(Re),ee=["success","info","warning","error"],p=pe({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:W?document.body:void 0}),Pe=Z({customClass:{type:String,default:p.customClass},center:{type:Boolean,default:p.center},dangerouslyUseHTMLString:{type:Boolean,default:p.dangerouslyUseHTMLString},duration:{type:Number,default:p.duration},icon:{type:de,default:p.icon},id:{type:String,default:p.id},message:{type:F([String,Object,Function]),default:p.message},onClose:{type:F(Function),required:!1},showClose:{type:Boolean,default:p.showClose},type:{type:String,values:ee,default:p.type},offset:{type:Number,default:p.offset},zIndex:{type:Number,default:p.zIndex},grouping:{type:Boolean,default:p.grouping},repeatNum:{type:Number,default:p.repeatNum}}),qe={destroy:()=>!0},f=me([]),Ae=n=>{const s=f.findIndex(t=>t.id===n),e=f[s];let o;return s>0&&(o=f[s-1]),{current:e,prev:o}},Ze=n=>{const{prev:s}=Ae(n);return s?s.vm.exposed.bottom.value:0},je=(n,s)=>f.findIndex(o=>o.id===n)>0?20:s,Ge=["id"],Je=["innerHTML"],Ke=N({name:"ElMessage"}),Qe=N({...Ke,props:Pe,emits:qe,setup(n,{expose:s}){const e=n,{Close:o}=be,{ns:t,zIndex:i}=fe("message"),{currentZIndex:u,nextZIndex:r}=i,d=x(),v=x(!1),g=x(0);let _;const te=h(()=>e.type?e.type==="error"?"danger":e.type:"info"),oe=h(()=>{const l=e.type;return{[t.bm("icon",l)]:l&&H[l]}}),D=h(()=>e.icon||H[e.type]||""),ae=h(()=>Ze(e.id)),L=h(()=>je(e.id,e.offset)+ae.value),le=h(()=>g.value+L.value),ie=h(()=>({top:`${L.value}px`,zIndex:u.value}));function B(){e.duration!==0&&({stop:_}=$e(()=>{S()},e.duration))}function O(){_==null||_()}function S(){v.value=!1}function re({code:l}){l===Te.esc&&S()}return ge(()=>{B(),r(),v.value=!0}),ve(()=>e.repeatNum,()=>{O(),B()}),ye(document,"keydown",re),_e(d,()=>{g.value=d.value.getBoundingClientRect().height}),s({visible:v,bottom:le,close:S}),(l,V)=>(m(),$(K,{name:a(t).b("fade"),onBeforeLeave:l.onClose,onAfterLeave:V[0]||(V[0]=ys=>l.$emit("destroy")),persisted:""},{default:T(()=>[G(c("div",{id:l.id,ref_key:"messageRef",ref:d,class:w([a(t).b(),{[a(t).m(l.type)]:l.type&&!l.icon},a(t).is("center",l.center),a(t).is("closable",l.showClose),l.customClass]),style:he(a(ie)),role:"alert",onMouseenter:O,onMouseleave:B},[l.repeatNum>1?(m(),$(a(Ue),{key:0,value:l.repeatNum,type:a(te),class:w(a(t).e("badge"))},null,8,["value","type","class"])):C("v-if",!0),a(D)?(m(),$(a(R),{key:1,class:w([a(t).e("icon"),a(oe)])},{default:T(()=>[(m(),$(we(a(D))))]),_:1},8,["class"])):C("v-if",!0),j(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(m(),y(X,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),c("p",{class:w(a(t).e("content")),innerHTML:l.message},null,10,Je)],2112)):(m(),y("p",{key:0,class:w(a(t).e("content"))},k(l.message),3))]),l.showClose?(m(),$(a(R),{key:2,class:w(a(t).e("closeBtn")),onClick:Ce(S,["stop"])},{default:T(()=>[I(a(o))]),_:1},8,["class","onClick"])):C("v-if",!0)],46,Ge),[[J,v.value]])]),_:3},8,["name","onBeforeLeave"]))}});var We=Q(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Xe=1;const se=n=>{const s=!n||U(n)||Y(n)||E(n)?{message:n}:n,e={...p,...s};if(!e.appendTo)e.appendTo=document.body;else if(U(e.appendTo)){let o=document.querySelector(e.appendTo);ke(o)||(o=document.body),e.appendTo=o}return e},Ye=n=>{const s=f.indexOf(n);if(s===-1)return;f.splice(s,1);const{handler:e}=n;e.close()},es=({appendTo:n,...s},e)=>{const o=`message_${Xe++}`,t=s.onClose,i=document.createElement("div"),u={...s,id:o,onClose:()=>{t==null||t(),Ye(g)},onDestroy:()=>{P(null,i)}},r=I(We,u,E(u.message)||Y(u.message)?{default:E(u.message)?u.message:()=>u.message}:null);r.appContext=e||b._context,P(r,i),n.appendChild(i.firstElementChild);const d=r.component,g={id:o,vnode:r,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:r.component.props};return g},b=(n={},s)=>{if(!W)return{close:()=>{}};if(z(A.max)&&f.length>=A.max)return{close:()=>{}};const e=se(n);if(e.grouping&&f.length){const t=f.find(({vnode:i})=>{var u;return((u=i.props)==null?void 0:u.message)===e.message});if(t)return t.props.repeatNum+=1,t.props.type=e.type,t.handler}const o=es(e,s);return f.push(o),o.handler};ee.forEach(n=>{b[n]=(s={},e)=>{const o=se(s);return b({...o,type:n},e)}});function ss(n){for(const s of f)(!n||n===s.props.type)&&s.handler.close()}b.closeAll=ss;b._context=null;const M=Ne(b,"$message"),ns="https://news.icodeq.com/api";function ts(n){return Se(ns,n)}const ne=n=>(Ee("data-v-5c20ac14"),n=n(),De(),n),os={class:"news"},as={class:"news-top"},ls=ne(()=>c("h1",null,"每日早报",-1)),is={class:"news-img"},rs=ne(()=>c("div",{class:"image-placeholder"},[c("div",{class:"placeholder-content"})],-1)),cs={key:0,class:"news-title"},us={key:1,class:"news-main"},ds={key:2,class:"news-weiyu"},ps={class:"news-change"},ms={class:"news-change__box"},fs={class:"news-change__box"},gs={class:"news-change__box"},vs=N({__name:"newsView",setup(n){const s=q({news:{}}),e=x("");let o=null;const t=q({index:"0",cache:"0",origin:"zhihu"}),i=(r,d)=>{ts(r).then(v=>{s.news=v.data,M(d===0?{message:`获取 ${r.origin} 新闻成功 ${s.news.date}`,type:"success"}:{message:`${s.news.date} `,type:"success"})})},u=r=>{if(t.index==="0"&&r===-1){M({message:"已经是最新的一天啦～",type:"warning"});return}r===0?t.origin=t.origin==="163"?"zhihu":"163":t.index=`${Number(t.index)+r} `,console.log(t,r),i(t,r)};return xe(()=>{o=setInterval(()=>{e.value=Ie(new Date)},100),i(t,0)}),Be(()=>{clearInterval(o)}),(r,d)=>{const v=ze;return m(),y("div",os,[c("div",as,[ls,c("div",is,[I(v,{src:"https://bing.icodeq.com",alt:"Random picture",lazy:""},{placeholder:T(()=>[rs]),_:1})])]),s.news.news?(m(),y("div",cs,[c("h2",null,k(s.news.title+s.news.date),1)])):C("",!0),s.news.news?(m(),y("div",us,[(m(!0),y(X,null,Me(s.news.news,(g,_)=>(m(),y("p",{key:1+_},k(`${_<9?"0"+(_+1):_+1}、${g}`),1))),128))])):C("",!0),s.news.news?(m(),y("div",ds,[c("h2",null,k(s.news.weiyu),1)])):C("",!0),c("div",ps,[c("div",ms,[c("div",{class:"news-change__button",onClick:d[0]||(d[0]=g=>u(1))},"前一天")]),c("div",fs,[c("div",{class:"news-change__button",onClick:d[1]||(d[1]=g=>u(0))},"切换新闻源")]),c("div",gs,[c("div",{class:"news-change__button",onClick:d[2]||(d[2]=g=>u(-1))},"后一天")])])])}}});const hs=Le(vs,[["__scopeId","data-v-5c20ac14"]]);export{hs as default};
